<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>AI Dish Intelligence | AtithiAI</title>
    <link rel="stylesheet" th:href="@{/css/global.css}">
</head>

<body>

<!-- Navbar -->
<div class="navbar">
    <div class="brand">
        <div class="logo-text">AtithiAI üçΩÔ∏è</div>
        <div class="tagline">‡§Ö‡§§‡§ø‡§•‡•Ä ‡§¶‡•á‡§µ‡•ã ‡§≠‡§µ‡§É</div>
    </div>

    <div class="nav-links">
        <a href="/index">Dashboard</a>
        <a href="/ai/menu-optimization">Menu Optimization</a>
        <a href="/logout">Logout</a>
    </div>
</div>

<!-- Hero -->
<div class="ai-hero">
    <h1>Meet Your AI Food Expert ü§ñ</h1>
    <p>
        Curious what makes a dish special?  
        Ingredients, taste, spice & chef secrets ‚Äî explained by AI.
    </p>
</div>

<!-- Main -->
<div class="container">

    <div class="ai-dish-layout">

        <!-- LEFT: Selector -->
        <div class="ai-select-card">
            <h3>üçΩ Choose a Dish</h3>

            <form method="post" th:action="@{/ai/dish-explanation}">
                <select name="dishName" required>
                    <option value="">Select dish to analyze</option>
                    <option th:each="dish : ${dishes}"
                            th:value="${dish}"
                            th:text="${dish}"
                            th:selected="${dish == selectedDish}">
                    </option>
                </select>

                <button type="submit" class="btn-ai-primary">
                    üîç Analyze Dish
                </button>
            </form>

            <p class="ai-note">
                AI reads ingredients, taste profile & popularity data.
            </p>
        </div>

        <!-- RIGHT: AI Result -->
        <div class="ai-result-area">

            <div th:if="${info != null and !info.containsKey('error')}"
                 class="ai-result-glass">

                <div class="ai-header">
                    <span class="ai-badge">AI Analysis</span>
                    <h2 th:text="${selectedDish}"></h2>
                </div>

                <div class="ai-info-grid">

                    <div class="ai-info-card">
                        <span class="icon">ü•ï</span>
                        <h4>Ingredients</h4>
                        <p th:text="${info.ingredients}"></p>
                    </div>

                    <div class="ai-info-card">
                        <span class="icon">üå∂</span>
                        <h4>Spice Level</h4>
                        <p th:text="${info.spice_level}"></p>
                    </div>

                    <div class="ai-info-card">
                        <span class="icon">üòã</span>
                        <h4>Taste Profile</h4>
                        <p th:text="${info.taste}"></p>
                    </div>

                    <div class="ai-info-card highlight">
                        <span class="icon">‚≠ê</span>
                        <h4>Why It‚Äôs Special</h4>
                        <p th:text="${info.speciality}"></p>
                    </div>

                </div>

                <div class="ai-footer">
                    <span>ü§ç Powered by AtithiAI Intelligence</span>
                </div>

            </div>

            <div th:if="${info != null and info.containsKey('error')}"
                 class="ai-error">
                <p th:text="${info.error}"></p>
            </div>

            <div th:if="${info == null}" class="ai-placeholder">
                <p>üëà Select a dish to see AI insights here</p>
            </div>

        </div>

    </div>

</div>

<div class="footer">
    ¬© 2026 AtithiAI ¬∑ Smart Hospitality Platform
</div>

</body>
</html>
